{
    "problemName": "read-n-characters-given-read4-ii-call-multiple-times",
    "language": "java",
    "code": "/**\n * The read4 API is defined in the parent class Reader4.\n *     int read4(char[] buf4); \n */\n\npublic class Solution extends Reader4 {\n    private String data;\n\n    private  int dataSize;\n\n    private int currentPointer = 0;\n\n    /**\n     * @param buf Destination buffer\n     * @param n   Number of characters to read\n     * @return    The number of actual characters read\n     */\n    public int read(char[] buf, int n) {\n        if (data == null) {\n            data = readData();\n            dataSize = data.length();\n        }\n\n        if (currentPointer > data.length()) {\n            return 0;\n        }\n\n        int startIndex = currentPointer;\n        int endIndex = currentPointer + n;\n        \n        if (endIndex > dataSize) {\n            endIndex = dataSize;\n        }\n        \n        String readData = data.substring(startIndex, endIndex);\n        int readSize = readData.length();\n        \n        int i = 0;\n        for (;i<readSize;i++) {\n            buf[i] = readData.charAt(i);\n        }\n\n        currentPointer = currentPointer + n;\n\n        return readSize;\n\n    }\n\n    private String readData() {\n        StringBuilder dataBuilder = new StringBuilder();\n\n        int currentRead = 0;\n\n        char tempBuf[] = new char[4];\n\n        int  i;\n\n        while (true) {\n             currentRead = read4(tempBuf);\n\n            for (i=0;i<currentRead;i++) {\n                dataBuilder.append(tempBuf[i]);\n            }\n\n            if (currentRead < 4) {\n                break;\n            }\n        }\n\n        return dataBuilder.toString();\n    }\n}"
}