{
    "problemName": "find-all-people-with-secret",
    "language": "cpp",
    "code": "class DSU{\n    public:\n    int n;\n    vector<int> par;\n    DSU(int _n){\n        n = _n;\n        for(int i = 0; i < n; i++)par.push_back(i);\n    }\n    int get(int x){\n        if(par[x] != x){\n            par[x] = get(par[x]);\n        }\n        return par[x];\n    }\n    void add(int u, int v){\n        u = get(u);\n        v = get(v);\n        if(u == v)return;\n        par[u] = v;\n    }\n};\nclass Solution {\npublic:\n    vector<int> findAllPeople(int n, vector<vector<int>>& meetings, int firstPerson) {\n        map<int, vector<pair<int,int>>> mp;\n        for(auto i : meetings){\n            mp[i[2]].push_back({i[0], i[1]});\n        }\n        \n        DSU *dsu = new DSU(n + 1);\n        dsu->add(firstPerson, 0);\n        for(auto i : mp){\n            for(auto j : i.second){\n                if(dsu->get(j.first) == 0){\n                    dsu->add(j.second, j.first);\n                }else{\n                    dsu->add(j.first, j.second);\n                }\n            }\n            for(auto j : i.second){\n                // cout<<j.first<<\" \"<<dsu->get(j.first);\n                if(dsu->get(j.first) != 0){\n                    dsu->par[j.first] = j.first;\n                }\n                if(dsu->get(j.second) != 0){\n                    dsu->par[j.second] = j.second;\n                }\n            }\n        }\n        vector<int> ans;\n        for(int i = 0; i <n; i++){\n            if(dsu->get(i) == 0){\n                ans.push_back(i);\n            }\n        }\n        return ans;\n    }\n};"
}