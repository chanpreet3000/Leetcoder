{
    "problemName": "find-the-grid-of-region-average",
    "language": "cpp",
    "code": "class Solution {\npublic:\n    vector<vector<int>> resultGrid(vector<vector<int>>& arr, int threshold) {\n        map<pair<int, int>, vector<int>> mp;\n        int n = arr.size();\n        int m = arr[0].size();\n        \n        vector<int> d4 ={-1, 0, 1, 0, -1};\n        \n        for(int i = 0; i <= n - 3; i++){\n            for(int j = 0; j <= m - 3; j++){\n                int f = 1;\n                int sum = 0;\n                for(int k = i; k < i + 3; k++){\n                    for(int l = j; l < j + 3; l++){\n                        sum += arr[k][l];\n                        for(int x = 0; x < 4; x ++){\n                            int _x = k + d4[x], _y = l + d4[x + 1];\n                            if(_x >=0 && _x < n && _y >=0 && _y < m && _x >= i && _y >= j && _x < i + 3 && _y < j + 3){\n                                if(abs(arr[k][l] - arr[_x][_y]) > threshold){\n                                    // cout<<k<<\" \"<<l<<\" \"<<_x<<\" \"<<_y<<endl;\n                                    f = 0;\n                                }\n                            }\n                        }                        \n                    }\n                }\n                if(f == 1){\n                    // cout<<\"YES\\n\";\n                    for(int k = i; k < i + 3; k++){\n                        for(int l = j; l < j + 3; l++){\n                            mp[{k, l}].push_back(sum/9);\n                        }\n                    }\n                }\n            }\n        }\n        vector<vector<int>> ans(n, vector<int>(m, 0));\n        for(int i = 0; i < n; i++){\n            for(int j = 0; j < m; j++){\n                if(mp[{i, j}].size() > 0){\n                    int sum = 0;\n                    for(auto i : mp[{i, j}]){\n                        sum += i;\n                    }\n                    ans[i][j] = sum/mp[{i, j}].size();\n                }else{\n                    ans[i][j] = arr[i][j];\n                }\n            }\n        }\n        return ans;\n    }\n};"
}