{
    "problemName": "count-nodes-with-the-highest-score",
    "language": "python3",
    "code": "class Solution:\n    def countHighestScoreNodes(self, p: List[int]) -> int:\n        \n        edges = [[] for i in range(len(p))]\n        n = len(p)\n        m = n - 1\n        count_m = 0\n        for i in range(len(p)):\n            if p[i] == -1:\n                continue\n            edges[p[i]].append(i)\n                \n        def h(index):\n            nonlocal m, n, count_m\n            if not edges[index]:\n                if m == n - 1:\n                    count_m += 1\n                return 1\n            if len(edges[index]) == 1:\n                val = h(edges[index][0])\n                if (n - 1 - val) == 0:\n                    temp = val\n                else:\n                    temp = (n - 1 - val) * val\n                if m == temp:\n                    count_m += 1\n                if m < temp:\n                    count_m = 1\n                    m = temp\n                return val + 1\n            if len(edges[index]) == 2:\n                val_1 = h(edges[index][0])\n                val_2 = h(edges[index][1])\n                if (n - 1 - val_1 - val_2) == 0:\n                    temp = val_1 * val_2\n                else:\n                    temp = (n - 1 - val_1 - val_2) * val_1 * val_2\n                if m == temp:\n                    count_m += 1\n                if m < temp:\n                    count_m = 1\n                    m = temp\n                return val_2 + val_1 + 1\n\n        h(0)\n        return count_m\n            \n            \n        \n            "
}