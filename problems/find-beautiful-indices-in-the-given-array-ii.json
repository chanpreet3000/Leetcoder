{
    "problemName": "find-beautiful-indices-in-the-given-array-ii",
    "language": "cpp",
    "code": "class Solution {\npublic:\n    vector<int> zalgo(string s){\n        int n = s.length();\n        vector<int> z(n, 0);\n        int left = 0, right = 0;\n        for(int i = 1; i < n; i++){\n            if(i > right){\n                left = right = i;\n                while(right < n && s[right] == s[right - left]){\n                    right++;\n                }\n                z[i] = right - left;\n                right--;\n            }else{\n                int ind = i - left;\n                if(z[ind] + i <= right){\n                    z[i] = z[ind];\n                }else{\n                    left = i;\n                    while(right < n && s[right] == s[right - left]){\n                        right++;\n                    }\n                    z[i] = right - left;\n                    right--;\n                }\n            }\n        }\n        return z;\n    }\n    vector<int> beautifulIndices(string s, string a, string b, int k) {\n        vector<int> z = zalgo(a + \"$\" + s);\n        vector<int> z2 = zalgo(b + \"$\" + s);\n        vector<int> ans1, ans2, ans3;\n        for(int i = a.length(); i < z.size(); i++){\n            if(z[i] == a.length()){\n                ans1.push_back(i - a.length());\n            }\n        }\n        for(int i = b.length(); i < z2.size(); i++){\n            if(z2[i] == b.length()){\n                ans2.push_back(i - b.length());\n            }\n        }\n        for(int i = 0; i < ans1.size(); i++){\n            int ind = ans1[i];\n            auto id = lower_bound(ans2.begin(), ans2.end(), ind - k);\n            if(id != ans2.end() && abs(*id - ind) <= k){\n                ans3.push_back(ind - 1);\n            }\n        }\n        return ans3;\n    }\n};"
}