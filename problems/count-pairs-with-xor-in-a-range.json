{
    "problemName": "count-pairs-with-xor-in-a-range",
    "language": "cpp",
    "code": "class Node{\n    public:\n    Node*child[2];\n    int cnt=0;\n    Node(){\n        child[0]=child[1]=NULL;\n        cnt=0;\n    }\n};\nNode*root =new Node();\nclass Solution {\npublic:\n    void insert(int val){\n        Node*temp=root;\n        for(int i=16;i>=0;i--){\n            int bit = (val>>i)&1;\n            if(temp->child[bit]){\n                temp= temp->child[bit];\n                ++(temp->cnt);\n            }else{\n                temp->child[bit]=new Node();\n                temp =temp->child[bit];\n                ++(temp->cnt);\n            }\n           \n        }\n    }\n    int countNode(int val,int lim){   \n       Node*temp=root;\n        int ans=0;\n        for(int i=16;i>=0;i--){\n            int b1= (val>>i)&1;\n            int b2= (lim>>i)&1;\n            if(b1){\n                if(b2){\n                    if(temp->child[1]){\n                    ans+= temp->child[1]->cnt;\n                    }\n                    temp=temp->child[0];\n                    \n                }else{\n                    temp=temp->child[1];\n                    \n                }\n            }else{\n                if(b2){\n                    if(temp->child[0]){\n                    ans+= temp->child[0]->cnt;\n                    }\n                    temp=temp->child[1];\n                    \n                }else{\n                      temp=temp->child[0];\n                }\n            }\n            \n            if(!temp)break;\n            \n        }\n        \n        return ans;\n        \n    }\n    \n    int countPairs(vector<int>& nums, int low, int high) {\n     \n       int ans=0;\n        root=new Node();\n        for(int i=0;i<nums.size();i++){\n            ans += countNode(nums[i],high+1)- countNode(nums[i],low);\n            insert(nums[i]);\n        }\n        \n        return ans;\n      \n    }\n};"
}