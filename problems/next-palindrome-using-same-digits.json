{
    "problemName": "next-palindrome-using-same-digits",
    "language": "cpp",
    "code": "class Solution {\nprivate:\n    string first_half;\npublic:\n    string nextPalindrome(string num) {\n        int mid = num.length()/2;\n        string midstr = \"\";\n        if(num.length() % 2 == 1) {\n            midstr = num[mid];\n        }\n        first_half = num.substr(0, mid);\n        cout << first_half << endl;\n\n        bool res = nextGreatest();\n        if(!res) {\n            return \"\";\n        }\n\n        string second_half = first_half;\n        reverse(second_half.begin(), second_half.end());\n        \n        return first_half + midstr + second_half;\n    }\n    \n    bool nextGreatest() {\n        int i;\n        for(i = first_half.length() - 1 ; i > 0 ; i--) {\n            if(first_half[i] > first_half[i - 1]) {\n                break;\n            }\n        }\n        if(i <= 0) {\n            return false;\n        }\n        int j;\n        for(j = first_half.length() - 1; j >= i; j--) {\n            if(first_half[j] > first_half[i - 1]) {\n                break;\n            }\n        }\n        swap(first_half[i - 1], first_half[j]);\n        reverse(first_half.begin() + i, first_half.end());\n        return true;\n    }\n\n};"
}