{
    "problemName": "remove-comments",
    "language": "cpp",
    "code": "class Solution {\npublic:\n    vector<string> removeComments(vector<string>& source) {\n        vector<string> clean_source; clean_source.reserve(source.size());\n        \n        bool old_style=false;\n        for(string line : source) {\n            bool const no_break=old_style;\n            string clean_line=\"\";\n            \n            string::size_type old_open=0, new_open=0;\n            while(old_open!=string::npos or new_open!=string::npos) {\n                if(old_style) {\n                    string::size_type const old_close=line.find(\"*/\");\n                    if(old_close!=string::npos) {\n                        line=line.substr(old_close+2);\n                        old_style=false;\n                    }\n                    else break;\n                }\n                old_open =line.find(\"/*\");\n                new_open =line.find(\"//\");\n                if(old_open!=string::npos and (new_open==string::npos or old_open<new_open)) {\n                    clean_line+=line.substr(0,old_open);\n                    old_style=true;\n                    line=line.substr(old_open+2);\n                }\n                else if(new_open!=string::npos) {\n                    clean_line+=line.substr(0,new_open);\n                    break;\n                }\n                else clean_line+=line;\n            }\n            if(!clean_line.empty()) {\n                if(no_break) clean_source.back()+=clean_line;\n                else clean_source.push_back(clean_line);\n            }\n        }\n        return clean_source;\n    }\n};"
}