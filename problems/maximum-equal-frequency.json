{
    "problemName": "maximum-equal-frequency",
    "language": "cpp",
    "code": "class Solution {\npublic:\n    int maxEqualFreq(vector<int>& nums) {\n        int only_occurance = 1;\n        int max_occurance = 1;\n        int mx_count = 1;\n        int count_num = 1;\n        int last_valid_index = 0;\n        vector<int> count(100001,0);\n        count[nums[0]] =1; \n        for(int i=1;i<nums.size();i++){\n            int new_count = count[nums[i]]+1;\n            count[nums[i]] = new_count;\n            if(new_count==1){\n                only_occurance++;\n                count_num++;\n            } \n            if(new_count == 2) only_occurance--;\n            if(new_count == max_occurance){\n                mx_count++;\n            }\n            if(new_count > max_occurance){\n                max_occurance = new_count;\n                mx_count = 1;\n            }\n            if((only_occurance ==1 && i/max_occurance == count_num-1) || max_occurance ==1) \n                last_valid_index = i;\n            else if(mx_count == 1 && i/(max_occurance-1)==count_num)\n                last_valid_index = i;\n        }\n        return last_valid_index+1;\n    }\n};"
}